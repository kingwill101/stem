"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[2561],{836:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"getting-started/intro","title":"Welcome to Stem","description":"Stem is a Dart-native background work platform that gives you Celery\u2011level","source":"@site/docs/getting-started/intro.md","sourceDirName":"getting-started","slug":"/","permalink":"/stem/","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/stem/tree/main/.site/docs/docs/getting-started/intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Welcome to Stem","sidebar_label":"Introduction","sidebar_position":1,"slug":"/","aliases":["/getting-started/intro"]},"sidebar":"docs","previous":{"title":"Getting Started","permalink":"/stem/getting-started"},"next":{"title":"Quick Start","permalink":"/stem/getting-started/quick-start"}}');var a=n(4848),i=n(8453),s=n(1470),l=n(9365);const o={title:"Welcome to Stem",sidebar_label:"Introduction",sidebar_position:1,slug:"/",aliases:["/getting-started/intro"]},c=void 0,d={},u=[{value:"What is a task queue?",id:"what-is-a-task-queue",level:2},{value:"A minimal Stem pipeline",id:"a-minimal-stem-pipeline",level:2},{value:"What You\u2019ll Unlock",id:"what-youll-unlock",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Onboarding Path",id:"onboarding-path",level:2}];function g(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Stem is a Dart-native background work platform that gives you Celery\u2011level\ncapabilities without leaving the Dart ecosystem. This onboarding path assumes\nyou have never touched Stem before and walks you from \u201cwhat is this?\u201d to \u201cI can\nship a production deployment.\u201d"}),"\n",(0,a.jsx)(t.h2,{id:"what-is-a-task-queue",children:"What is a task queue?"}),"\n",(0,a.jsx)(t.p,{children:"A task queue lets you push work to background workers instead of blocking your\nweb or API process. The core pipeline looks like:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"Producer \u2192 Broker \u2192 Worker \u2192 Result Backend\n"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.strong,{children:"Architecture at a glance"})}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Task queue pipeline",src:n(3864).A+"",width:"900",height:"180"})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Producer"})," enqueues a task (e.g. send email)."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Broker"})," stores and delivers tasks to workers."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Worker"})," executes tasks and reports status."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Result backend"})," keeps history and outputs."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"In Stem, you can mix and match brokers and backends (for example, Redis for\nfast delivery and Postgres for durable results)."}),"\n",(0,a.jsx)(t.h2,{id:"a-minimal-stem-pipeline",children:"A minimal Stem pipeline"}),"\n",(0,a.jsx)(t.p,{children:"The core objects are a task handler, a worker, and a producer. This example\nkeeps everything in a single file so you can see the moving parts together."}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(l.A,{value:"task",label:"Define a task handler",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-dart",metastring:'title="stem_example.dart" file=<rootDir>/../packages/stem/example/stem_example.dart#getting-started-task-definition',children:"  static final definition = TaskDefinition<HelloArgs, void>(\n    name: 'demo.hello',\n    encodeArgs: (args) => {'name': args.name},\n    metadata: TaskMetadata(description: 'Simple hello world example'),\n  );\n\n  @override\n  String get name => 'demo.hello';\n\n  @override\n  TaskMetadata get metadata => definition.metadata;\n"})})}),(0,a.jsx)(l.A,{value:"runtime",label:"Set up the broker, backend, and worker",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-dart",metastring:'title="stem_example.dart" file=<rootDir>/../packages/stem/example/stem_example.dart#getting-started-runtime-setup',children:"  final registry = SimpleTaskRegistry()..register(HelloTask());\n  final broker = await RedisStreamsBroker.connect('redis://localhost:6379');\n  final backend = await RedisResultBackend.connect('redis://localhost:6379/1');\n\n  final stem = Stem(broker: broker, registry: registry, backend: backend);\n  final worker = Worker(broker: broker, registry: registry, backend: backend);\n"})})}),(0,a.jsx)(l.A,{value:"enqueue",label:"Start the worker and enqueue work",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-dart",metastring:'title="stem_example.dart" file=<rootDir>/../packages/stem/example/stem_example.dart#getting-started-enqueue',children:"  unawaited(worker.start());\n  // Map-based enqueue for quick scripts or one-off calls.\n  await stem.enqueue('demo.hello', args: {'name': 'Stem'});\n\n  // Typed helper with TaskDefinition for compile-time safety.\n  await stem.enqueueCall(HelloTask.definition(const HelloArgs(name: 'Stem')));\n  await Future<void>.delayed(const Duration(seconds: 1));\n  await worker.shutdown();\n  await broker.close();\n  await backend.close();\n"})})})]}),"\n",(0,a.jsx)(t.h2,{id:"what-youll-unlock",children:"What You\u2019ll Unlock"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Core pipeline"})," \u2013 Enqueue tasks with delays, priorities, retries, rate\nlimits, and canvas compositions, backed by result stores."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Workers & signals"})," \u2013 Operate isolate-based workers, autoscale them,\nand react to lifecycle signals."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Observability & tooling"})," \u2013 Stream metrics, traces, heartbeats, and inspect\nqueues, DLQs, and schedules from the CLI."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Security & deployment"})," \u2013 Sign payloads, enable TLS, and run Stem via\nsystemd/SysV or the multi-worker CLI wrapper."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Enablement & quality"})," \u2013 Use runnable examples, runbooks, and automated\nquality gates to keep deployments healthy."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Dart ",(0,a.jsx)(t.strong,{children:"3.3+"})," installed (",(0,a.jsx)(t.code,{children:"dart --version"}),")."]}),"\n",(0,a.jsxs)(t.li,{children:["Access to the Dart pub cache (",(0,a.jsx)(t.code,{children:"dart pub ..."}),")."]}),"\n",(0,a.jsx)(t.li,{children:"Optional but recommended: Docker Desktop or another container runtime for\nlocal Redis/Postgres instances."}),"\n",(0,a.jsx)(t.li,{children:"Optional: Node.js 18+ if you plan to run the documentation site locally."}),"\n",(0,a.jsx)(t.li,{children:"A text editor capable of running Dart tooling (VS Code, IntelliJ, Neovim)."}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"onboarding-path",children:"Onboarding Path"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"/stem/getting-started/quick-start",children:"Quick Start"})})," \u2013 Build and run your first Stem worker\nentirely in memory while you learn the task pipeline primitives."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"/stem/getting-started/first-steps",children:"First Steps"})})," \u2013 Use Redis to run producers and workers\nin separate processes, then fetch results."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"/stem/getting-started/developer-environment",children:"Connect to Infrastructure"})})," \u2013 Point Stem at\nRedis/Postgres, run workers/Beat across processes, and try routing/canvas\npatterns."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"/stem/getting-started/observability-and-ops",children:"Observe & Operate"})})," \u2013 Enable telemetry,\ninspect heartbeats, replay DLQ entries, and wire control commands."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"/stem/getting-started/production-checklist",children:"Prepare for Production"})})," \u2013 Enable signing,\nTLS, daemonization, and automated quality gates before launch."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Each step includes copy-pasteable code or CLI examples and ends with pointers\nto deeper reference material."}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Next:"})," Jump into the ",(0,a.jsx)(t.a,{href:"/stem/getting-started/quick-start",children:"Quick Start"})," to see Stem in action."]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}},1470:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(6540),a=n(4164),i=n(7559),s=n(3104),l=n(6347),o=n(205),c=n(7485),d=n(1682),u=n(679);function g(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:t,children:n}=e;return(0,r.useMemo)(()=>{const e=t??function(e){return g(e).map(({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r}))}(n);return function(e){const t=(0,d.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function h({value:e,tabValues:t}){return t.some(t=>t.value===e)}function I({queryString:e=!1,groupId:t}){const n=(0,l.W6)(),a=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(a),(0,r.useCallback)(e=>{if(!a)return;const t=new URLSearchParams(n.location.search);t.set(a,e),n.replace({...n.location,search:t.toString()})},[a,n])]}function p(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=m(e),[s,l]=(0,r.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i})),[c,d]=I({queryString:n,groupId:a}),[g,p]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,a]=(0,u.Dv)(t);return[n,(0,r.useCallback)(e=>{t&&a.set(e)},[t,a])]}({groupId:a}),b=(()=>{const e=c??g;return h({value:e,tabValues:i})?e:null})();(0,o.A)(()=>{b&&l(b)},[b]);return{selectedValue:s,selectValue:(0,r.useCallback)(e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),p(e)},[d,p,i]),tabValues:i}}var b=n(2303);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(4848);function x({className:e,block:t,selectedValue:n,selectValue:r,tabValues:i}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,s.a_)(),c=e=>{const t=e.currentTarget,a=l.indexOf(t),s=i[a].value;s!==n&&(o(t),r(s))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},e),children:i.map(({value:e,label:t,attributes:r})=>(0,j.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...r,className:(0,a.A)("tabs__item",k.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function f({lazy:e,children:t,selectedValue:n}){const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===n);return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function y(e){const t=p(e);return(0,j.jsxs)("div",{className:(0,a.A)(i.G.tabs.container,"tabs-container",k.tabList),children:[(0,j.jsx)(x,{...t,...e}),(0,j.jsx)(f,{...t,...e})]})}function v(e){const t=(0,b.A)();return(0,j.jsx)(y,{...e,children:g(e.children)},String(t))}},3864:(e,t,n)=>{n.d(t,{A:()=>r});const r="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MDAiIGhlaWdodD0iMTgwIiB2aWV3Qm94PSIwIDAgOTAwIDE4MCI+CiAgPGRlZnM+CiAgICA8bWFya2VyIGlkPSJhcnJvdyIgbWFya2VyV2lkdGg9IjEwIiBtYXJrZXJIZWlnaHQ9IjciIHJlZlg9IjkiIHJlZlk9IjMuNSIgb3JpZW50PSJhdXRvIj4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIwIDAsIDEwIDMuNSwgMCA3IiBmaWxsPSIjMWYyOTM3IiAvPgogICAgPC9tYXJrZXI+CiAgPC9kZWZzPgogIDxyZWN0IHg9IjUwIiB5PSI2MCIgd2lkdGg9IjE3MCIgaGVpZ2h0PSI2MCIgcng9IjgiIGZpbGw9IiNmM2Y0ZjYiIHN0cm9rZT0iIzFmMjkzNyIgLz4KICA8cmVjdCB4PSIyNjAiIHk9IjYwIiB3aWR0aD0iMTcwIiBoZWlnaHQ9IjYwIiByeD0iOCIgZmlsbD0iI2YzZjRmNiIgc3Ryb2tlPSIjMWYyOTM3IiAvPgogIDxyZWN0IHg9IjQ3MCIgeT0iNjAiIHdpZHRoPSIxNzAiIGhlaWdodD0iNjAiIHJ4PSI4IiBmaWxsPSIjZjNmNGY2IiBzdHJva2U9IiMxZjI5MzciIC8+CiAgPHJlY3QgeD0iNjgwIiB5PSI2MCIgd2lkdGg9IjE3MCIgaGVpZ2h0PSI2MCIgcng9IjgiIGZpbGw9IiNmM2Y0ZjYiIHN0cm9rZT0iIzFmMjkzNyIgLz4KCiAgPGxpbmUgeDE9IjIyMCIgeTE9IjkwIiB4Mj0iMjYwIiB5Mj0iOTAiIHN0cm9rZT0iIzFmMjkzNyIgc3Ryb2tlLXdpZHRoPSIyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93KSIgLz4KICA8bGluZSB4MT0iNDMwIiB5MT0iOTAiIHgyPSI0NzAiIHkyPSI5MCIgc3Ryb2tlPSIjMWYyOTM3IiBzdHJva2Utd2lkdGg9IjIiIG1hcmtlci1lbmQ9InVybCgjYXJyb3cpIiAvPgogIDxsaW5lIHgxPSI2NDAiIHkxPSI5MCIgeDI9IjY4MCIgeTI9IjkwIiBzdHJva2U9IiMxZjI5MzciIHN0cm9rZS13aWR0aD0iMiIgbWFya2VyLWVuZD0idXJsKCNhcnJvdykiIC8+CgogIDx0ZXh0IHg9IjEzNSIgeT0iOTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzExMTgyNyI+CiAgICBQcm9kdWNlcgogIDwvdGV4dD4KICA8dGV4dCB4PSIzNDUiIHk9Ijk1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiMxMTE4MjciPgogICAgQnJva2VyCiAgPC90ZXh0PgogIDx0ZXh0IHg9IjU1NSIgeT0iOTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzExMTgyNyI+CiAgICBXb3JrZXIKICA8L3RleHQ+CiAgPHRleHQgeD0iNzY1IiB5PSI5NSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjMTExODI3Ij4KICAgIFJlc3VsdCBCYWNrZW5kCiAgPC90ZXh0Pgo8L3N2Zz4K"},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>l});var r=n(6540);const a={},i=r.createContext(a);function s(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:t},e.children)}},9365:(e,t,n)=>{n.d(t,{A:()=>s});n(6540);var r=n(4164);const a={tabItem:"tabItem_Ymn6"};var i=n(4848);function s({children:e,hidden:t,className:n}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,n),hidden:t,children:e})}}}]);